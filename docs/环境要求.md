# 环境要求

## 基础环境

### 必需软件

1. **PHP 8.0+**
   - 建议使用 PHP 8.1 或更高版本
   - 需要开启的扩展：
     - `pdo_mysql`
     - `mbstring`
     - `openssl`
     - `fileinfo`
     - `curl`
     - `json`

2. **Composer**
   - 版本：2.0+
   - 用于 PHP 依赖管理

3. **Node.js**
   - 版本：16.0+
   - 建议使用 LTS 版本
   - 包含 npm 包管理器

4. **MySQL**
   - 版本：8.0+
   - 或兼容的数据库（MariaDB 10.3+）
   - 默认配置：用户名 root，密码 123456

5. **Web 服务器**
   - Apache 2.4+ 或 Nginx 1.10+
   - 支持 URL 重写

## 开发环境推荐

### 集成开发环境

1. **XAMPP** (Windows/Mac/Linux)
   - 包含 Apache + MySQL + PHP
   - 开箱即用，适合快速开发

2. **WAMP** (Windows)
   - Windows 下的 LAMP 环境

3. **MAMP** (Mac)
   - Mac 下的开发环境

4. **Docker**
   - 推荐用于生产环境
   - 环境一致性更好

### 编辑器推荐

1. **Visual Studio Code**
   - 推荐插件：
     - PHP Intelephense
     - Vetur (Vue 支持)
     - ESLint
     - Prettier

2. **PhpStorm**
   - 专业的 PHP IDE
   - 内置 Vue.js 支持

## 浏览器兼容性

### 支持的浏览器

- Chrome 70+
- Firefox 65+
- Safari 12+
- Edge 79+

### 移动端

- iOS Safari 12+
- Chrome Mobile 70+
- Android WebView 70+

## 性能要求

### 最低配置

- CPU: 双核 2.0GHz
- 内存: 4GB RAM
- 存储: 10GB 可用空间

### 推荐配置

- CPU: 四核 2.5GHz+
- 内存: 8GB+ RAM
- 存储: 20GB+ 可用空间 (SSD 推荐)

## 网络要求

- 稳定的互联网连接（用于依赖包下载）
- 如需部署到生产环境，需要域名和 SSL 证书

## 数据库配置

### MySQL 设置

```sql
-- 数据库信息
主机: localhost (127.0.0.1)
端口: 3306
用户名: root
密码: 123456
数据库: user_management
字符集: utf8mb4
```

### 权限要求

```sql
-- 需要的MySQL权限
SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER, INDEX
```

## 端口配置

### 默认端口

- **前端开发服务器**: 3000
- **后端API服务器**: 8000  
- **MySQL数据库**: 3306

### 端口检查

```bash
# Windows 检查端口占用
netstat -ano | findstr :3000
netstat -ano | findstr :8000

# Mac/Linux 检查端口占用
lsof -ti:3000
lsof -ti:8000
```

## 环境验证

### 命令检查

```bash
# 检查 PHP 版本
php -v

# 检查 PHP 扩展
php -m | grep pdo_mysql
php -m | grep mbstring

# 检查 Composer
composer --version

# 检查 Node.js 和 npm
node -v
npm -v

# 检查 MySQL
mysql --version

# 连接数据库测试
mysql -u root -p123456 -e "SHOW DATABASES;"
```

### PHP 配置检查

```php
<?php
// 创建 check.php 文件检查环境
phpinfo();

// 检查必需扩展
$required_extensions = [
    'pdo_mysql',
    'mbstring', 
    'openssl',
    'fileinfo',
    'curl',
    'json'
];

foreach ($required_extensions as $ext) {
    if (extension_loaded($ext)) {
        echo "✅ $ext: 已安装\n";
    } else {
        echo "❌ $ext: 未安装\n";
    }
}
?>
```

## 常见问题

### 1. PHP 版本过低

**解决方案:**
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install php8.1

# CentOS/RHEL
sudo yum install php81

# Windows
# 下载最新 PHP 并配置环境变量
```

### 2. MySQL 连接失败

**解决方案:**
```bash
# 启动 MySQL 服务
# Windows
net start mysql

# Mac
brew services start mysql

# Linux
sudo systemctl start mysql
```

### 3. Composer 安装慢

**解决方案:**
```bash
# 使用国内镜像
composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
```

### 4. npm 安装慢

**解决方案:**
```bash
# 使用国内镜像
npm config set registry https://registry.npmmirror.com
```

## 生产环境要求

### 服务器配置

- **操作系统**: Linux (Ubuntu 20.04+ / CentOS 8+)
- **Web服务器**: Nginx 1.18+ 或 Apache 2.4+
- **PHP**: 8.1+ (建议使用 PHP-FPM)
- **数据库**: MySQL 8.0+ 或 MariaDB 10.5+
- **内存**: 2GB+ (建议 4GB+)
- **存储**: 20GB+ SSD

### 安全配置

```bash
# 防火墙配置
ufw allow 80
ufw allow 443
ufw allow 22

# PHP 安全配置
expose_php = Off
display_errors = Off
log_errors = On
```

## 开发工具配置

### VSCode 推荐设置

```json
{
  "php.suggest.basic": false,
  "php.validate.enable": true,
  "php.validate.executablePath": "/usr/bin/php",
  "intelephense.files.maxSize": 1000000,
  "vetur.validation.template": false,
  "eslint.autoFixOnSave": true
}
```

### Git 配置

```bash
# 设置用户信息
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"

# 设置编辑器
git config --global core.editor "code --wait"
```

---

**确保所有环境要求都满足后，即可顺利运行项目！** 🚀
